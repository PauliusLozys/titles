version: "3"

vars:
  BINARY_NAME: titles{{exeExt}}

tasks:
  run:
    cmds:
      - task: build
      - ./{{.BINARY_NAME}}
    silent: true
  build:
    cmds:
      - echo 'building for {{OS}} {{ARCH}}'
      - golangci-lint run
      - go build -o="./cmd/titles/{{.BINARY_NAME}}" ./cmd/titles
    silent: true
  install:
    cmds:
      - go install ./cmd/titles
